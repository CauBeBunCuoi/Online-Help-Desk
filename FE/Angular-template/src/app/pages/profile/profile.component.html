<p-toast></p-toast>
<p-confirmdialog />

<div class="d-flex justify-content-center align-items-center vh-100 bg-light">
    <div class="card p-4 shadow-lg rounded" style="width: 420px;">
        <h2 class="text-center text-primary mb-3">Cập Nhật Thông Tin</h2>

        <!-- Avatar -->
        <div class="text-center">
            <img [src]="avatarUrl" alt="Avatar" class="rounded-circle shadow-sm mb-3" width="100" height="100">
            <p-fileUpload mode="basic" accept="image/*" chooseLabel="Chọn Ảnh" (onSelect)="onFileSelect($event)" />
        </div>

        <form [formGroup]="updateMemberForm">
            <!-- Full Name -->
            <div class="mb-3">
                <label for="FullName" class="form-label fw-semibold">Họ và Tên</label>
                <input pInputText id="FullName" class="form-control" formControlName="FullName" />
                @if(updateMemberForm.controls['FullName'].invalid && updateMemberForm.controls['FullName'].touched) {
                    <small class="text-danger">
                        Họ tên tối thiểu 3 ký tự.
                    </small>
                }
            </div>

            <!-- Address -->
            <div class="mb-3">
                <label for="Address" class="form-label fw-semibold">Địa chỉ</label>
                <input pInputText id="Address" class="form-control" formControlName="Address" />
                @if(updateMemberForm.controls['Address'].invalid && updateMemberForm.controls['Address'].touched) {
                    <small class="text-danger">
                        Địa chỉ không được để trống.
                    </small>
                }
            </div>

            <!-- Phone -->
            <div class="mb-3">
                <label for="Phone" class="form-label fw-semibold">Số điện thoại</label>
                <input pInputText id="Phone" class="form-control" formControlName="Phone" />
                @if(updateMemberForm.controls['Phone'].invalid && updateMemberForm.controls['Phone'].touched) {
                    <small class="text-danger">
                        Số điện thoại không được để trống.
                    </small>
                }
            </div>

            <!-- Buttons -->
            <div class="d-flex justify-content-end gap-2">
                <button class="btn btn-primary" (click)="updateMember($event)" [disabled]="updateMemberForm.invalid">Cập Nhật</button>
            </div>
        </form>
    </div>
</div>
